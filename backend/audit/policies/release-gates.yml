# Release Gate Policies
# These policies enforce quality standards on releases

version: v1.0.0

policies:
  release_security_gate:
    description: "Security must meet minimum standards for release"
    rule: "security_score >= 3.5 AND hardcoded_secrets == 0"
    enforced: true
    bypass_requires: "SystemAdmin"
    rationale: "Security vulnerabilities in production are unacceptable"
    
  release_quality_gate:
    description: "Code quality must meet minimum standards"
    rule: "code_quality >= 3.0 AND typescript_errors == 0"
    enforced: true
    bypass_requires: "TechLead"
    rationale: "TypeScript errors indicate type safety issues"
    
  release_testing_gate:
    description: "Testing coverage should be adequate"
    rule: "testing_score >= 3.0 AND untested_critical_paths <= 2"
    enforced: false  # Warning only for now
    bypass_requires: null
    rationale: "Testing ensures reliability but shouldn't block urgent fixes"

  overall_health_gate:
    description: "Overall system health check"
    rule: "overall_score >= 3.0 AND critical_findings == 0"
    enforced: true
    bypass_requires: "SystemAdmin"
    rationale: "Critical findings must be resolved before release"

# Metadata
meta:
  owner: "release-manager"
  last_updated: "2026-01-03"
  review_period: "quarterly"
  changelog:
    - date: "2026-01-03"
      change: "Initial release gates based on current system state"
      author: "system"
