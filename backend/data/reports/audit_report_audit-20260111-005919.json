{"id":"audit-20260111-005919","created_at":"2026-01-11T00:59:50.340473","version":"1.0.0","scope":"Full System","overall_score":4.3,"critical_count":0,"major_count":17,"minor_count":11,"risk_level":"High","dimension_scores":[{"dimension":"Code Quality","score":5.0,"findings_count":0,"action_items_count":0,"details":{"typescript_errors":0,"eslint_errors":0,"python_errors":0,"type_coverage":100.0}},{"dimension":"Security","score":5.0,"findings_count":0,"action_items_count":0,"details":{"rbac_coverage":273,"exposed_secrets":0,"unprotected_endpoints":0,"rate_limited_endpoints":14}},{"dimension":"Testing","score":0.0,"findings_count":1,"action_items_count":0,"details":{"test_coverage":37.5,"total_tests":12,"test_files":38,"untested_critical_paths":0}},{"dimension":"Database","score":5.0,"findings_count":16,"action_items_count":0,"details":{"foreign_keys_enforced":1,"indexes_count":110,"tables_without_indexes":1,"migration_files":8,"orphaned_records_risk":0}},{"dimension":"Architecture","score":5.0,"findings_count":0,"action_items_count":0,"details":{"cycle_count":0,"boundary_violations":0,"modules_scanned":610,"dependency_edges":2460}},{"dimension":"UI/UX","score":3.3,"findings_count":1,"action_items_count":0,"details":{"hardcoded_colors":0,"hardcoded_spacing":46,"component_reuse":33,"accessibility_violations":12,"css_files":0,"responsive_layouts":73,"accessibility_files":["D:\\Python\\HCM_WEB\\modules\\OrgSetup.tsx","D:\\Python\\HCM_WEB\\modules\\SystemHealth.tsx","D:\\Python\\HCM_WEB\\modules\\SystemSettings.tsx","D:\\Python\\HCM_WEB\\modules\\admin\\ComplianceSettings.tsx","D:\\Python\\HCM_WEB\\modules\\admin\\SystemCleanup.tsx","D:\\Python\\HCM_WEB\\modules\\org-profile\\OrgChart.tsx","D:\\Python\\HCM_WEB\\modules\\org-setup\\DesignationManagement.tsx","D:\\Python\\HCM_WEB\\modules\\org-setup\\PayrollConfiguration.tsx","D:\\Python\\HCM_WEB\\modules\\org-setup\\ShiftManagement.tsx","D:\\Python\\HCM_WEB\\modules\\audit\\components\\SystemLogViewer.tsx","D:\\Python\\HCM_WEB\\components\\auth\\PermissionGate.tsx","D:\\Python\\HCM_WEB\\components\\auth\\RoleGuard.tsx"]}},{"dimension":"AI Layer","score":5.0,"findings_count":6,"action_items_count":0,"details":{"ai_integrations":111,"unpinned_models":0,"prompt_versioning":4,"input_validation":16,"ai_error_handling":35,"temperature_control":16,"grounding_instructions":2,"response_validation":11,"citation_extraction":2,"context_limits":4,"prompt_injection_protection":2,"pii_redaction":4,"rate_limiting":4,"fallback_behavior":0}},{"dimension":"DevOps","score":5.0,"findings_count":1,"action_items_count":0,"details":{"deployment_scripts":1,"backup_strategy":1,"environment_config":2,"docker_support":0,"ci_cd_config":1}},{"dimension":"Drift Detection","score":5.0,"findings_count":1,"action_items_count":0,"details":{"adr_count":9,"drift_violation_count":0,"undocumented_modules":1}},{"dimension":"Performance","score":5.0,"findings_count":0,"action_items_count":0,"details":{"memoization_usage":26,"lazy_loading":0,"virtualization":2,"large_assets":0,"img_optimization":0,"total_components":153}}],"critical_findings":[],"major_findings":[{"id":"44d75544-b154-4b6a-9c58-2d2dfbf154a1","dimension":"Testing","severity":"Major","title":"Test coverage estimated at 37.5%","description":"Low test coverage detected","recommendation":"Add unit tests for core modules","line_number":null,"file_path":null},{"id":"873bf23c-6034-48b9-9c21-ec675c1ba738","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'organizations.tax_id'","description":"Column 'tax_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for tax_id","line_number":null,"file_path":null},{"id":"a10b96f8-1683-4ad3-ab38-65075a8cf770","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'departments.plant_id'","description":"Column 'plant_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for plant_id","line_number":null,"file_path":null},{"id":"4478bd88-2ba5-4c07-9e24-0d9f953ce5b0","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'departments.hod_id'","description":"Column 'hod_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for hod_id","line_number":null,"file_path":null},{"id":"d803fcd5-c347-4a6b-a579-747033c0ea9f","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'departments.manager_id'","description":"Column 'manager_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for manager_id","line_number":null,"file_path":null},{"id":"9dda9f7a-e0b0-4ecc-806f-b16ce4816422","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'grades.employment_level_id'","description":"Column 'employment_level_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for employment_level_id","line_number":null,"file_path":null},{"id":"b2cdd76e-1e58-4e0d-8594-a323b5263037","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'sub_departments.parent_department_id'","description":"Column 'parent_department_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for parent_department_id","line_number":null,"file_path":null},{"id":"a484f69a-69b0-46b4-9fbb-8dd22ef5073a","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'sub_departments.manager_id'","description":"Column 'manager_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for manager_id","line_number":null,"file_path":null},{"id":"80581db8-7832-454b-bc66-9992ef50cd52","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'designations.grade_id'","description":"Column 'grade_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for grade_id","line_number":null,"file_path":null},{"id":"1b34d80f-004e-47d6-82aa-58853289b979","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'positions.designation_id'","description":"Column 'designation_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for designation_id","line_number":null,"file_path":null},{"id":"054bd26b-5df5-4812-86fb-54afa9c50257","dimension":"Api","severity":"Major","title":"Analyzer execution failed: api","description":"Table 'ai_configurations' is already defined for this MetaData instance.  Specify 'extend_existing=True' to redefine options and columns on an existing Table object.","recommendation":"Check analyzer implementation and dependencies","line_number":null,"file_path":null},{"id":"df08f837-153f-4ed7-826b-7f1538665025","dimension":"UI/UX","severity":"Major","title":"12 components lack accessibility attributes","description":"Missing aria-labels, alt text, or other a11y features","recommendation":"Add ARIA labels and alt text to improve accessibility","line_number":null,"file_path":null},{"id":"ca1d6ac3-ca00-49a8-8bcf-9359a46a8070","dimension":"AI Layer","severity":"Major","title":"Insufficient input validation on AI calls","description":"Not all AI integrations validate input data (16/111)","recommendation":"Add schema validation before sending data to AI models","line_number":null,"file_path":null},{"id":"f5bb2227-6539-41c7-92f4-c8faa36840fd","dimension":"AI Layer","severity":"Major","title":"Unsafe AI Temperature Settings","description":"Found 95 AI calls without explicit low-temperature settings (risk of hallucinations).","recommendation":"Set temperature=0.0-0.2 for factual tasks.","line_number":null,"file_path":null},{"id":"5808d337-7c30-48c5-9f63-c1f3c4d43b08","dimension":"AI Layer","severity":"Major","title":"Missing Grounding Instructions","description":"Found 109 AI prompts without grounding constraints.","recommendation":"Include 'only use provided context' or similar constraints in prompts.","line_number":null,"file_path":null},{"id":"8b73fae2-5546-47f3-b070-8a6abbe0cc48","dimension":"AI Layer","severity":"Major","title":"Missing Response Validation","description":"Found 100 AI calls without response validation.","recommendation":"Implement schema validation or parsing for AI outputs to catch malformed responses.","line_number":null,"file_path":null},{"id":"05d3cb59-375f-4113-b30a-1f6316c4bbef","dimension":"AI Layer","severity":"Major","title":"Insufficient Fallback Behavior","description":"Less than 50% of AI calls have fallback logic (0/111).","recommendation":"Implement graceful degradation with default responses when AI calls fail.","line_number":null,"file_path":null}],"minor_findings":[{"id":"2be32c79-8273-42e8-be99-c4e4ba915127","dimension":"Database","severity":"Minor","title":"Table 'test' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to test","line_number":null,"file_path":null},{"id":"7f1b746f-848f-4a90-8e88-b381be7e9daf","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'organizations'","description":"Table has 28 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"66c70a74-4b91-49ab-93bc-1686cafd1806","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'shifts'","description":"Table has 22 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"c99e9b76-46c2-4451-bba7-09a0df944fad","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'system_flags'","description":"Table has 23 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"791b9a35-9618-43d6-a10e-fd8c537cc6d6","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'notification_settings'","description":"Table has 33 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"f9c8e8a7-3044-4d7d-8978-2b7085be6ce4","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'employees'","description":"Table has 24 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"3a14ff0a-0c3e-4d66-9c9d-4dac9a210dd7","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'payroll_settings'","description":"Table has 22 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"cd4548e7-9761-412b-9210-488bbab5cd0e","dimension":"AI Layer","severity":"Minor","title":"Incomplete AI error handling","description":"Some AI calls lack proper error handling (35/111)","recommendation":"Wrap AI calls in try-catch with fallback logic","line_number":null,"file_path":null},{"id":"7a3e339d-40bc-4341-8937-d4f057675a96","dimension":"DevOps","severity":"Minor","title":"Missing Security Policy","description":"SECURITY.md file found in root.","recommendation":"Add a SECURITY.md to define reporting procedures.","line_number":null,"file_path":null},{"id":"b6546fc6-adcf-4989-9c45-0a66755a09ea","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: org-setup","description":"No ADR or architectural documentation found for the 'org-setup' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"0212c68d-71cb-4026-a06f-964edbee15ff","dimension":"Drift Detection","severity":"Minor","title":"Rule Violation: undocumented_modules","description":"Value 1 exceeded max 0","recommendation":"Improve undocumented_modules to meet policy","line_number":null,"file_path":null}],"technical_debt":[],"action_plan":[{"issue":"Test coverage estimated at 37.5%","area":"Testing","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'organizations.tax_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'departments.plant_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'departments.hod_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'departments.manager_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'grades.employment_level_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'sub_departments.parent_department_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'sub_departments.manager_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'designations.grade_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'positions.designation_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null}],"policy_results":[{"name":"release_security_gate","pass_status":false,"message":"Rule evaluation failed: name 'hardcoded_secrets' is not defined","enforced":true,"rule":"security_score >= 3.5 AND hardcoded_secrets == 0"},{"name":"release_quality_gate","pass_status":false,"message":"Rule evaluation failed: name 'code_quality' is not defined","enforced":true,"rule":"code_quality >= 3.0 AND typescript_errors == 0"},{"name":"release_testing_gate","pass_status":false,"message":"Success","enforced":false,"rule":"testing_score >= 3.0 AND untested_critical_paths <= 2"},{"name":"overall_health_gate","pass_status":false,"message":"Rule evaluation failed: name 'critical_findings' is not defined","enforced":true,"rule":"overall_score >= 3.0 AND critical_findings == 0"}],"executed_by":"CLI-Runner","execution_time_seconds":31.05110001564026}