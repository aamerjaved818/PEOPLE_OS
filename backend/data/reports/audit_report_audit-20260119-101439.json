{"id":"audit-20260119-101439","created_at":"2026-01-19T10:15:11.022703","version":"1.0.0","scope":"Full System","overall_score":3.4,"critical_count":2,"major_count":14,"minor_count":23,"risk_level":"High","dimension_scores":[{"dimension":"Code Quality","score":5.0,"findings_count":0,"action_items_count":0,"details":{"typescript_errors":0,"eslint_errors":0,"python_errors":0,"type_coverage":100.0}},{"dimension":"Security","score":5.0,"findings_count":0,"action_items_count":0,"details":{"rbac_coverage":3600,"exposed_secrets":0,"unprotected_endpoints":0,"rate_limited_endpoints":3}},{"dimension":"Testing","score":0.0,"findings_count":1,"action_items_count":0,"details":{"test_coverage":28.5,"total_tests":14,"test_files":23,"untested_critical_paths":0}},{"dimension":"Database","score":5.0,"findings_count":11,"action_items_count":0,"details":{"foreign_keys_enforced":1,"indexes_count":103,"tables_without_indexes":0,"migration_files":8,"orphaned_records_risk":0}},{"dimension":"API","score":0.5,"findings_count":1,"action_items_count":0,"details":{"total_endpoints":42,"versioned_endpoints":0,"breaking_changes":0,"new_endpoints":0,"schema_size_kb":97}},{"dimension":"Architecture","score":5.0,"findings_count":0,"action_items_count":0,"details":{"cycle_count":0,"boundary_violations":0,"modules_scanned":389,"dependency_edges":1614}},{"dimension":"UI/UX","score":5.0,"findings_count":0,"action_items_count":0,"details":{"hardcoded_colors":0,"hardcoded_spacing":0,"component_reuse":0,"accessibility_violations":0,"css_files":0,"responsive_layouts":0}},{"dimension":"AI Layer","score":5.0,"findings_count":8,"action_items_count":0,"details":{"ai_integrations":53,"unpinned_models":0,"prompt_versioning":1,"input_validation":8,"ai_error_handling":9,"temperature_control":7,"grounding_instructions":1,"response_validation":3,"citation_extraction":0,"context_limits":0,"prompt_injection_protection":0,"pii_redaction":0,"rate_limiting":1,"fallback_behavior":0}},{"dimension":"DevOps","score":1.5,"findings_count":3,"action_items_count":0,"details":{"deployment_scripts":0,"backup_strategy":0,"environment_config":2,"docker_support":0,"ci_cd_config":1}},{"dimension":"Drift Detection","score":0.0,"findings_count":14,"action_items_count":0,"details":{"adr_count":10,"drift_violation_count":0,"undocumented_modules":14}},{"dimension":"Performance","score":5.0,"findings_count":0,"action_items_count":0,"details":{"memoization_usage":0,"lazy_loading":0,"virtualization":0,"large_assets":0,"img_optimization":0,"total_components":0}}],"critical_findings":[{"id":"1916b6b9-a3e2-4615-b307-cb56db432839","dimension":"AI Layer","severity":"Critical","title":"No Prompt Injection Protection Detected","description":"AI system lacks input sanitization to prevent prompt injection attacks.","recommendation":"Implement input sanitization/escaping before incorporating user input into prompts.","line_number":null,"file_path":null},{"id":"dc13a0e2-6233-4571-9f09-c5274a152089","dimension":"DevOps","severity":"Critical","title":"No backup strategy implemented","description":"Database backup scripts not found","recommendation":"Implement automated database backup mechanism","line_number":null,"file_path":null}],"major_findings":[{"id":"ac37eff5-aadd-4fe2-ad9a-02ed6e80dc02","dimension":"Testing","severity":"Major","title":"Test coverage estimated at 28.5%","description":"Low test coverage detected","recommendation":"Add unit tests for core modules","line_number":null,"file_path":null},{"id":"ef02b018-2750-4474-9ada-841b303ee407","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'core_organizations.head_id'","description":"Column 'head_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for head_id","line_number":null,"file_path":null},{"id":"c2a4b4f8-5cfc-4aee-9c13-a7c0c6fdf53d","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'core_organizations.tax_id'","description":"Column 'tax_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for tax_id","line_number":null,"file_path":null},{"id":"b4b2d31b-b71b-48a4-b08a-ce14fa21d86b","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'core_users.employee_id'","description":"Column 'employee_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for employee_id","line_number":null,"file_path":null},{"id":"cbb9728d-7a0c-4c35-98e4-aa74965b5d62","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'core_departments.hod_id'","description":"Column 'hod_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for hod_id","line_number":null,"file_path":null},{"id":"08985d65-2f2e-4f8e-b866-85cda5123f9e","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'core_departments.manager_id'","description":"Column 'manager_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for manager_id","line_number":null,"file_path":null},{"id":"417a77b7-2a21-490f-935c-45426d3f9996","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'core_sub_departments.manager_id'","description":"Column 'manager_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for manager_id","line_number":null,"file_path":null},{"id":"59c408d1-087c-46b9-a64d-76175557b69b","dimension":"AI Layer","severity":"Major","title":"Insufficient input validation on AI calls","description":"Not all AI integrations validate input data (8/53)","recommendation":"Add schema validation before sending data to AI models","line_number":null,"file_path":null},{"id":"e0d3b282-86e1-491f-b666-a61ef39d706c","dimension":"AI Layer","severity":"Major","title":"Unsafe AI Temperature Settings","description":"Found 46 AI calls without explicit low-temperature settings (risk of hallucinations).","recommendation":"Set temperature=0.0-0.2 for factual tasks.","line_number":null,"file_path":null},{"id":"9df2b3e7-82f3-4819-968d-3030dc626ccc","dimension":"AI Layer","severity":"Major","title":"Missing Grounding Instructions","description":"Found 52 AI prompts without grounding constraints.","recommendation":"Include 'only use provided context' or similar constraints in prompts.","line_number":null,"file_path":null},{"id":"8a375115-1b7d-4e18-85a2-30ac71a2973d","dimension":"AI Layer","severity":"Major","title":"Missing Response Validation","description":"Found 50 AI calls without response validation.","recommendation":"Implement schema validation or parsing for AI outputs to catch malformed responses.","line_number":null,"file_path":null},{"id":"7b039502-4ad8-418a-aeef-a883c1a31056","dimension":"AI Layer","severity":"Major","title":"No PII Redaction Detected","description":"AI system doesn't appear to redact sensitive data before sending to external APIs.","recommendation":"Implement PII detection and redaction (e.g., using Presidio or scrubadub).","line_number":null,"file_path":null},{"id":"46a5b897-9ae9-474d-a2e4-10982635babb","dimension":"AI Layer","severity":"Major","title":"Insufficient Fallback Behavior","description":"Less than 50% of AI calls have fallback logic (0/53).","recommendation":"Implement graceful degradation with default responses when AI calls fail.","line_number":null,"file_path":null},{"id":"13f39821-4bb1-4467-a6cd-d330fc2b8b34","dimension":"DevOps","severity":"Major","title":"No deployment scripts found","description":"Missing automated deployment configuration","recommendation":"Create deployment scripts (start_app.bat/sh, Dockerfile)","line_number":null,"file_path":null}],"minor_findings":[{"id":"f614195f-3e84-43d2-90ce-db234ebb633a","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'core_organizations'","description":"Table has 31 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"89cdccbb-374c-46f9-bfb3-4b707f6c3137","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'system_flags'","description":"Table has 32 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"7824f2e3-05e0-4ce0-b692-d4a25caf6bcd","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'payroll_settings'","description":"Table has 22 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"afccb614-148e-4fff-b6e6-a5071b4e6bb4","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'notification_settings'","description":"Table has 33 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"a09b087a-7111-474c-8214-18c3ab3c3d64","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'hcm_employees'","description":"Table has 21 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"b8b1444f-59a7-4f57-8130-8810cff43e3c","dimension":"API","severity":"Minor","title":"No explicit API versioning","description":"Endpoints do not use /v1/ or similar prefixes.","recommendation":"Adopt URI versioning (e.g. /api/v1/resource).","line_number":null,"file_path":null},{"id":"0eba5e53-fda3-4a9c-a835-412840b6ee29","dimension":"AI Layer","severity":"Minor","title":"Incomplete AI error handling","description":"Some AI calls lack proper error handling (9/53)","recommendation":"Wrap AI calls in try-catch with fallback logic","line_number":null,"file_path":null},{"id":"c70b044f-3c45-456b-82d5-22058ebd388b","dimension":"DevOps","severity":"Minor","title":"Missing Security Policy","description":"SECURITY.md file found in root.","recommendation":"Add a SECURITY.md to define reporting procedures.","line_number":null,"file_path":null},{"id":"3dcc98cc-376e-49d9-bf5c-448f457ba8ed","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: components","description":"No ADR or architectural documentation found for the 'components' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"fbf3b441-6596-48af-a3f3-90ac87921e3e","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: config","description":"No ADR or architectural documentation found for the 'config' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"42f3ea5b-330e-45e0-9400-60a457a4693c","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: contexts","description":"No ADR or architectural documentation found for the 'contexts' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"8104dc75-485e-46bc-9dd9-fbc5b2573125","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: design-system","description":"No ADR or architectural documentation found for the 'design-system' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"8bc7477c-2595-4ac2-b2d3-520a4ab99eea","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: hooks","description":"No ADR or architectural documentation found for the 'hooks' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"a10d01e3-e19b-415f-ba44-179551474bd7","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: lib","description":"No ADR or architectural documentation found for the 'lib' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"349f6012-85f2-4ad6-a79d-21c53374ee00","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: modules","description":"No ADR or architectural documentation found for the 'modules' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"d1bae951-9599-45c3-9533-109431b9fa90","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: services","description":"No ADR or architectural documentation found for the 'services' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"c05568d8-9c22-4bba-b0d4-1c26d667587d","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: store","description":"No ADR or architectural documentation found for the 'store' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"78768a82-52a1-4bf7-a95d-ee97f5d46f66","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: styles","description":"No ADR or architectural documentation found for the 'styles' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"4361286d-ed71-4be8-a687-a791de8fb2ad","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: system","description":"No ADR or architectural documentation found for the 'system' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"a24eb516-8588-4a65-83b8-5a93807cf95c","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: test","description":"No ADR or architectural documentation found for the 'test' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"91095e69-e570-430b-8eb4-f081e1dcf8b5","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: theme","description":"No ADR or architectural documentation found for the 'theme' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"ccc00235-ae2b-4534-a028-80461e5ca180","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: utils","description":"No ADR or architectural documentation found for the 'utils' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"04ec4601-ba29-43c2-b714-86940ae7f7cb","dimension":"Drift Detection","severity":"Minor","title":"Rule Violation: undocumented_modules","description":"Value 14 exceeded max 0","recommendation":"Improve undocumented_modules to meet policy","line_number":null,"file_path":null}],"technical_debt":[],"action_plan":[{"issue":"No Prompt Injection Protection Detected","area":"AI Layer","priority":"Critical","effort":"Days","eta":null,"owner":null},{"issue":"No backup strategy implemented","area":"DevOps","priority":"Critical","effort":"Days","eta":null,"owner":null},{"issue":"Test coverage estimated at 28.5%","area":"Testing","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'core_organizations.head_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'core_organizations.tax_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'core_users.employee_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'core_departments.hod_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'core_departments.manager_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'core_sub_departments.manager_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Insufficient input validation on AI calls","area":"AI Layer","priority":"High","effort":"Hours","eta":null,"owner":null}],"policy_results":[{"name":"release_security_gate","pass_status":false,"message":"Rule evaluation failed: name 'hardcoded_secrets' is not defined","enforced":true,"rule":"security_score >= 3.5 AND hardcoded_secrets == 0"},{"name":"release_quality_gate","pass_status":false,"message":"Rule evaluation failed: name 'code_quality' is not defined","enforced":true,"rule":"code_quality >= 3.0 AND typescript_errors == 0"},{"name":"release_testing_gate","pass_status":false,"message":"Success","enforced":false,"rule":"testing_score >= 3.0 AND untested_critical_paths <= 2"},{"name":"overall_health_gate","pass_status":false,"message":"Rule evaluation failed: name 'critical_findings' is not defined","enforced":true,"rule":"overall_score >= 3.0 AND critical_findings == 0"}],"executed_by":"CLI-Runner","execution_time_seconds":31.833983659744263}