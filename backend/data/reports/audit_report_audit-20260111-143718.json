{"id":"audit-20260111-143718","created_at":"2026-01-11T14:37:45.094584","version":"1.0.0","scope":"Full System","overall_score":4.0,"critical_count":5,"major_count":18,"minor_count":10,"risk_level":"High","dimension_scores":[{"dimension":"Code Quality","score":5.0,"findings_count":0,"action_items_count":0,"details":{"typescript_errors":0,"eslint_errors":0,"python_errors":0,"type_coverage":100.0}},{"dimension":"Security","score":5.0,"findings_count":0,"action_items_count":0,"details":{"rbac_coverage":450,"exposed_secrets":0,"unprotected_endpoints":0,"rate_limited_endpoints":9}},{"dimension":"Testing","score":0.0,"findings_count":1,"action_items_count":0,"details":{"test_coverage":34.5,"total_tests":13,"test_files":39,"untested_critical_paths":0}},{"dimension":"Database","score":5.0,"findings_count":16,"action_items_count":0,"details":{"foreign_keys_enforced":1,"indexes_count":110,"tables_without_indexes":1,"migration_files":8,"orphaned_records_risk":0}},{"dimension":"API","score":0.5,"findings_count":8,"action_items_count":0,"details":{"total_endpoints":75,"versioned_endpoints":0,"breaking_changes":7,"new_endpoints":6,"schema_size_kb":136}},{"dimension":"Architecture","score":5.0,"findings_count":0,"action_items_count":0,"details":{"cycle_count":0,"boundary_violations":0,"modules_scanned":613,"dependency_edges":2498}},{"dimension":"UI/UX","score":5.0,"findings_count":0,"action_items_count":0,"details":{"hardcoded_colors":0,"hardcoded_spacing":0,"component_reuse":0,"accessibility_violations":0,"css_files":0,"responsive_layouts":0}},{"dimension":"AI Layer","score":5.0,"findings_count":6,"action_items_count":0,"details":{"ai_integrations":102,"unpinned_models":0,"prompt_versioning":4,"input_validation":16,"ai_error_handling":34,"temperature_control":16,"grounding_instructions":2,"response_validation":11,"citation_extraction":2,"context_limits":4,"prompt_injection_protection":2,"pii_redaction":4,"rate_limiting":4,"fallback_behavior":0}},{"dimension":"DevOps","score":5.0,"findings_count":1,"action_items_count":0,"details":{"deployment_scripts":1,"backup_strategy":1,"environment_config":2,"docker_support":0,"ci_cd_config":1}},{"dimension":"Performance","score":5.0,"findings_count":0,"action_items_count":0,"details":{"memoization_usage":0,"lazy_loading":0,"virtualization":0,"large_assets":0,"img_optimization":0,"total_components":0}}],"critical_findings":[{"id":"0f7d1ec2-3a35-432b-8111-d934c205f51b","dimension":"API","severity":"Critical","title":"Breaking Change: Endpoint Removed","description":"Endpoint '/api/system/flags/operations/flush-cache' was removed from API.","recommendation":"Restore endpoint or bump API version.","line_number":null,"file_path":null},{"id":"203bc3ac-71bb-45e5-83b3-f57c03a43cb4","dimension":"API","severity":"Critical","title":"Breaking Change: Endpoint Removed","description":"Endpoint '/api/system/notification-settings' was removed from API.","recommendation":"Restore endpoint or bump API version.","line_number":null,"file_path":null},{"id":"8f21b59a-6281-4671-9d96-86b07c813189","dimension":"API","severity":"Critical","title":"Breaking Change: Endpoint Removed","description":"Endpoint '/api/system/flags/operations/optimize-database' was removed from API.","recommendation":"Restore endpoint or bump API version.","line_number":null,"file_path":null},{"id":"e295aea0-09b2-4aed-85da-34306ba5d1b1","dimension":"API","severity":"Critical","title":"Breaking Change: Endpoint Removed","description":"Endpoint '/api/system/flags/operations/rotate-logs' was removed from API.","recommendation":"Restore endpoint or bump API version.","line_number":null,"file_path":null},{"id":"9b1c2a8c-4d23-4877-9a7e-55d74ec73416","dimension":"API","severity":"Critical","title":"Breaking Change: Endpoint Removed","description":"Endpoint '/api/notifications/config' was removed from API.","recommendation":"Restore endpoint or bump API version.","line_number":null,"file_path":null}],"major_findings":[{"id":"d510f47d-0571-4dc0-93c9-76431ce36747","dimension":"Testing","severity":"Major","title":"Test coverage estimated at 34.5%","description":"Low test coverage detected","recommendation":"Add unit tests for core modules","line_number":null,"file_path":null},{"id":"7886c215-5afb-4d55-9e1d-a4482ac73604","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'organizations.tax_id'","description":"Column 'tax_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for tax_id","line_number":null,"file_path":null},{"id":"dca8efc0-9f99-4027-95c1-70a5002b64d1","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'departments.plant_id'","description":"Column 'plant_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for plant_id","line_number":null,"file_path":null},{"id":"6cad2293-8ac0-4b35-904e-874ebfff1141","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'departments.hod_id'","description":"Column 'hod_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for hod_id","line_number":null,"file_path":null},{"id":"a6c34691-0388-4acc-91af-472fbf2e226f","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'departments.manager_id'","description":"Column 'manager_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for manager_id","line_number":null,"file_path":null},{"id":"4da58653-51a8-4712-b281-29d71a55afaf","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'grades.employment_level_id'","description":"Column 'employment_level_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for employment_level_id","line_number":null,"file_path":null},{"id":"2607b22a-873e-4288-8799-1cb97b7cfe9b","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'sub_departments.parent_department_id'","description":"Column 'parent_department_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for parent_department_id","line_number":null,"file_path":null},{"id":"308d9a43-ebc0-42af-8f00-04c43d6eb8bb","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'sub_departments.manager_id'","description":"Column 'manager_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for manager_id","line_number":null,"file_path":null},{"id":"d10597a8-3052-4763-b7ab-cfdcfc6e28ee","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'designations.grade_id'","description":"Column 'grade_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for grade_id","line_number":null,"file_path":null},{"id":"6ac98079-4fb0-4881-804c-90ab97afb4b0","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'positions.designation_id'","description":"Column 'designation_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for designation_id","line_number":null,"file_path":null},{"id":"44147e8f-bbe2-4ada-a99a-bbc7f0161ad3","dimension":"API","severity":"Major","title":"Breaking Change: Method Removed","description":"Method 'POST' removed from '/api/ai/config'.","recommendation":"Restore method support.","line_number":null,"file_path":null},{"id":"35109a37-131b-47a3-a9e1-3d7baee93180","dimension":"API","severity":"Major","title":"Breaking Change: Method Removed","description":"Method 'PUT' removed from '/api/system/flags'.","recommendation":"Restore method support.","line_number":null,"file_path":null},{"id":"ca67de81-21c4-4a74-abf8-39a1e98342d9","dimension":"AI Layer","severity":"Major","title":"Insufficient input validation on AI calls","description":"Not all AI integrations validate input data (16/102)","recommendation":"Add schema validation before sending data to AI models","line_number":null,"file_path":null},{"id":"179dda1c-30a0-45fe-918d-800102c50018","dimension":"AI Layer","severity":"Major","title":"Unsafe AI Temperature Settings","description":"Found 86 AI calls without explicit low-temperature settings (risk of hallucinations).","recommendation":"Set temperature=0.0-0.2 for factual tasks.","line_number":null,"file_path":null},{"id":"1f2e4459-5d4f-4d80-bdc3-544ef47da9ef","dimension":"AI Layer","severity":"Major","title":"Missing Grounding Instructions","description":"Found 100 AI prompts without grounding constraints.","recommendation":"Include 'only use provided context' or similar constraints in prompts.","line_number":null,"file_path":null},{"id":"f54bc646-212c-4d6f-ad7a-bac6ded01122","dimension":"AI Layer","severity":"Major","title":"Missing Response Validation","description":"Found 91 AI calls without response validation.","recommendation":"Implement schema validation or parsing for AI outputs to catch malformed responses.","line_number":null,"file_path":null},{"id":"7ecfcddf-2eab-4a49-b70d-c881f6e590a6","dimension":"AI Layer","severity":"Major","title":"Insufficient Fallback Behavior","description":"Less than 50% of AI calls have fallback logic (0/102).","recommendation":"Implement graceful degradation with default responses when AI calls fail.","line_number":null,"file_path":null},{"id":"eeac9541-a852-41ae-b00d-83d1f27f21d0","dimension":"Drift Detection","severity":"Major","title":"Analyzer execution failed: drift_detection","description":"[WinError 3] The system cannot find the path specified: 'D:\\\\Python\\\\HCM_WEB\\\\modules'","recommendation":"Check analyzer implementation and dependencies","line_number":null,"file_path":null}],"minor_findings":[{"id":"b12e5fa9-84c5-4566-8e57-b079a586bbc1","dimension":"Database","severity":"Minor","title":"Table 'test' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to test","line_number":null,"file_path":null},{"id":"bccda90a-3d5b-4119-b0c0-4e6ec1f9847e","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'organizations'","description":"Table has 32 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"d59f6992-1a4e-4291-a4bf-6d2dc51de972","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'shifts'","description":"Table has 22 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"3f383649-ffb9-476c-8957-7bf3ea725fae","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'notification_settings'","description":"Table has 33 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"6bea07a3-06a7-486f-938b-1aafa6c8ebd8","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'employees'","description":"Table has 27 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"ec2dd534-5b0e-4bbb-9a37-107075b3f02e","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'payroll_settings'","description":"Table has 22 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"1bc5af97-726a-4dde-a037-eb6c169e2481","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'system_flags'","description":"Table has 31 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"a00de8ce-e8fe-46e5-b92c-7aba1672755d","dimension":"API","severity":"Minor","title":"No explicit API versioning","description":"Endpoints do not use /v1/ or similar prefixes.","recommendation":"Adopt URI versioning (e.g. /api/v1/resource).","line_number":null,"file_path":null},{"id":"e18d9805-c42e-4a4d-aa24-9398b58ac519","dimension":"AI Layer","severity":"Minor","title":"Incomplete AI error handling","description":"Some AI calls lack proper error handling (34/102)","recommendation":"Wrap AI calls in try-catch with fallback logic","line_number":null,"file_path":null},{"id":"58737bb6-cd9d-48f0-85ec-39aab3b3cdaf","dimension":"DevOps","severity":"Minor","title":"Missing Security Policy","description":"SECURITY.md file found in root.","recommendation":"Add a SECURITY.md to define reporting procedures.","line_number":null,"file_path":null}],"technical_debt":[],"action_plan":[{"issue":"Breaking Change: Endpoint Removed","area":"API","priority":"Critical","effort":"Days","eta":null,"owner":null},{"issue":"Breaking Change: Endpoint Removed","area":"API","priority":"Critical","effort":"Days","eta":null,"owner":null},{"issue":"Breaking Change: Endpoint Removed","area":"API","priority":"Critical","effort":"Days","eta":null,"owner":null},{"issue":"Breaking Change: Endpoint Removed","area":"API","priority":"Critical","effort":"Days","eta":null,"owner":null},{"issue":"Breaking Change: Endpoint Removed","area":"API","priority":"Critical","effort":"Days","eta":null,"owner":null},{"issue":"Test coverage estimated at 34.5%","area":"Testing","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'organizations.tax_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'departments.plant_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'departments.hod_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'departments.manager_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null}],"policy_results":[{"name":"release_security_gate","pass_status":false,"message":"Rule evaluation failed: name 'hardcoded_secrets' is not defined","enforced":true,"rule":"security_score >= 3.5 AND hardcoded_secrets == 0"},{"name":"release_quality_gate","pass_status":false,"message":"Rule evaluation failed: name 'code_quality' is not defined","enforced":true,"rule":"code_quality >= 3.0 AND typescript_errors == 0"},{"name":"release_testing_gate","pass_status":false,"message":"Success","enforced":false,"rule":"testing_score >= 3.0 AND untested_critical_paths <= 2"},{"name":"overall_health_gate","pass_status":false,"message":"Rule evaluation failed: name 'critical_findings' is not defined","enforced":true,"rule":"overall_score >= 3.0 AND critical_findings == 0"}],"executed_by":"CLI-Runner","execution_time_seconds":26.38235306739807}