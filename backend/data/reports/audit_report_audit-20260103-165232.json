{"id":"audit-20260103-165232","created_at":"2026-01-03T16:53:12.729973","version":"1.0.0","scope":"Full System","overall_score":3.0,"critical_count":0,"major_count":13,"minor_count":19,"risk_level":"High","dimension_scores":[{"dimension":"Code Quality","score":5.0,"findings_count":0,"action_items_count":0,"details":{"typescript_errors":0,"eslint_errors":0,"python_errors":0,"type_coverage":100.0}},{"dimension":"Security","score":5.0,"findings_count":0,"action_items_count":0,"details":{"rbac_coverage":169,"exposed_secrets":0,"unprotected_endpoints":0,"rate_limited_endpoints":2}},{"dimension":"Testing","score":0.0,"findings_count":1,"action_items_count":0,"details":{"test_coverage":6,"total_tests":7,"test_files":10,"untested_critical_paths":0}},{"dimension":"Database","score":3.5,"findings_count":14,"action_items_count":0,"details":{"foreign_keys_enforced":1,"indexes_count":40,"tables_without_indexes":5,"migration_files":0,"orphaned_records_risk":0}},{"dimension":"API","score":0.5,"findings_count":1,"action_items_count":0,"details":{"total_endpoints":41,"versioned_endpoints":0,"breaking_changes":0,"new_endpoints":0,"schema_size_kb":64}},{"dimension":"Architecture","score":5.0,"findings_count":0,"action_items_count":0,"details":{"cycle_count":0,"boundary_violations":0,"modules_scanned":324,"dependency_edges":1092}},{"dimension":"UI/UX","score":0.0,"findings_count":3,"action_items_count":0,"details":{"hardcoded_colors":51,"hardcoded_spacing":1041,"component_reuse":24,"accessibility_violations":101,"css_files":0,"responsive_layouts":57}},{"dimension":"AI Layer","score":5.0,"findings_count":4,"action_items_count":0,"details":{"ai_integrations":20,"unpinned_models":8,"prompt_versioning":2,"input_validation":10,"ai_error_handling":46,"data_privacy_boundaries":0,"temperature_control":2,"grounding_instructions":22,"response_validation":8,"citation_extraction":1,"context_limits":2}},{"dimension":"DevOps","score":5.0,"findings_count":1,"action_items_count":0,"details":{"deployment_scripts":1,"backup_strategy":1,"environment_config":2,"docker_support":0,"ci_cd_config":1}},{"dimension":"Drift Detection","score":1.5,"findings_count":7,"action_items_count":0,"details":{"adr_count":0,"drift_violation_count":0,"undocumented_modules":7}}],"critical_findings":[],"major_findings":[{"id":"f2efdf46-8d84-4f66-b1d6-c3d32963fc91","dimension":"Testing","severity":"Major","title":"Test coverage estimated at 6%","description":"Low test coverage detected","recommendation":"Add unit tests for core modules","line_number":null,"file_path":null},{"id":"04a1ed4e-cd58-4e0f-8958-c28ec58b523b","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.department_id'","description":"Column 'department_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for department_id","line_number":null,"file_path":null},{"id":"40cab70d-3bdf-43cc-b248-d23ba6cbd259","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.designation_id'","description":"Column 'designation_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for designation_id","line_number":null,"file_path":null},{"id":"f7429605-580b-4890-9089-747609eafcc5","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.grade_id'","description":"Column 'grade_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for grade_id","line_number":null,"file_path":null},{"id":"b2461fa8-0ba7-4b7a-9ac9-3df88157c2fc","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.plant_id'","description":"Column 'plant_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for plant_id","line_number":null,"file_path":null},{"id":"5280d99f-efe7-4f41-910b-5ebcbcef80b5","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.shift_id'","description":"Column 'shift_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for shift_id","line_number":null,"file_path":null},{"id":"2dc8b47e-dce1-47ee-8927-b759911788cf","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'hr_plants.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"d9d36576-e7f7-4c3b-9024-cc906f80e070","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'performance_reviews.employee_id'","description":"Column 'employee_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for employee_id","line_number":null,"file_path":null},{"id":"2dfd15ce-faea-46ad-a880-3cec04aca99e","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'performance_reviews.reviewer_id'","description":"Column 'reviewer_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for reviewer_id","line_number":null,"file_path":null},{"id":"dde2970c-14be-4519-b2bd-962268715da8","dimension":"UI/UX","severity":"Major","title":"101 components lack accessibility attributes","description":"Missing aria-labels, alt text, or other a11y features","recommendation":"Add ARIA labels and alt text to improve accessibility","line_number":null,"file_path":null},{"id":"0ed61995-ea5f-434d-9df4-91d3d555f90c","dimension":"AI Layer","severity":"Major","title":"Insufficient input validation on AI calls","description":"Not all AI integrations validate input data","recommendation":"Add schema validation before sending data to AI models","line_number":null,"file_path":null},{"id":"4d104c72-3e0c-4375-b2a4-6dd362451e38","dimension":"AI Layer","severity":"Major","title":"Unsafe AI Temperature Settings","description":"Found 18 AI calls without explicit low-temperature settings (risk of hallucinations).","recommendation":"Set temperature=0.0-0.2 for factual tasks.","line_number":null,"file_path":null},{"id":"33057ba2-4469-4007-a8e1-2d5fee1cd660","dimension":"AI Layer","severity":"Major","title":"Missing Response Validation","description":"Found 12 AI calls without response validation.","recommendation":"Implement schema validation or parsing for AI outputs to catch malformed responses.","line_number":null,"file_path":null}],"minor_findings":[{"id":"76ea8fdf-470a-4c01-b71d-bf9f42535263","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'employees'","description":"Table has 66 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"4ddc49e6-017a-4925-8342-03694d8083ae","dimension":"Database","severity":"Minor","title":"Table 'employee_education' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_education","line_number":null,"file_path":null},{"id":"b51f0c2a-8ff8-43f0-8170-c58915651aa7","dimension":"Database","severity":"Minor","title":"Table 'employee_experience' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_experience","line_number":null,"file_path":null},{"id":"c6fb5fb7-4d59-482c-a85c-f2a452d39529","dimension":"Database","severity":"Minor","title":"Table 'employee_family' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_family","line_number":null,"file_path":null},{"id":"da7235e0-1989-4fa6-bb7f-2326bcda0094","dimension":"Database","severity":"Minor","title":"Table 'employee_discipline' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_discipline","line_number":null,"file_path":null},{"id":"bbb48976-bae3-4ad7-b9ca-075f4c625a54","dimension":"Database","severity":"Minor","title":"Table 'employee_increments' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_increments","line_number":null,"file_path":null},{"id":"b3eb3102-32d0-4859-8dd3-5124a44c2652","dimension":"API","severity":"Minor","title":"No explicit API versioning","description":"Endpoints do not use /v1/ or similar prefixes.","recommendation":"Adopt URI versioning (e.g. /api/v1/resource).","line_number":null,"file_path":null},{"id":"f9369211-86e2-4119-8107-9e89d940edc3","dimension":"UI/UX","severity":"Minor","title":"51 hardcoded color values detected","description":"Colors should use design tokens/CSS variables","recommendation":"Migrate hardcoded colors to design system tokens","line_number":null,"file_path":null},{"id":"5fd5db7a-ab2a-4fec-9584-92ad305f1e24","dimension":"UI/UX","severity":"Minor","title":"1041 hardcoded spacing values","description":"Spacing should use design tokens (e.g., Tailwind classes)","recommendation":"Use consistent spacing scale from design system","line_number":null,"file_path":null},{"id":"c27eb1b3-0966-4379-ad19-0210c2ff2217","dimension":"AI Layer","severity":"Minor","title":"Unmanaged Context Windows","description":"Found 18 AI calls without explicit context window limits.","recommendation":"Set max_tokens or context_length to prevent token overflow and manage costs.","line_number":null,"file_path":null},{"id":"a6ada1d1-54aa-4366-a5f7-ec73cc44c11e","dimension":"DevOps","severity":"Minor","title":"Missing Security Policy","description":"SECURITY.md file found in root.","recommendation":"Add a SECURITY.md to define reporting procedures.","line_number":null,"file_path":null},{"id":"492d074b-abd6-41fe-9a05-737028d076c3","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: analytics","description":"No ADR or architectural documentation found for the 'analytics' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"eb1d1bf9-79a2-4a51-accd-7f53472b9990","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: assets","description":"No ADR or architectural documentation found for the 'assets' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"5c8e6682-7230-48cc-98f6-daa04382ecf3","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: audit","description":"No ADR or architectural documentation found for the 'audit' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"6fee5f39-df89-4a07-9dc8-acc72fe76f8c","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: employee","description":"No ADR or architectural documentation found for the 'employee' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"a4d7de2b-b44e-4920-905b-43903cd177b8","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: expenses","description":"No ADR or architectural documentation found for the 'expenses' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"50b5eabc-97a9-42da-ba6d-d6b1cab84f6b","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: payroll","description":"No ADR or architectural documentation found for the 'payroll' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"bd1143d4-3356-4143-b4c8-daac96036612","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: recruitment","description":"No ADR or architectural documentation found for the 'recruitment' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"b13e1a77-f22b-45a6-b6fb-c4116790fd79","dimension":"Drift Detection","severity":"Minor","title":"Rule Violation: undocumented_modules","description":"Value 7 exceeded max 0","recommendation":"Improve undocumented_modules to meet policy","line_number":null,"file_path":null}],"technical_debt":[],"action_plan":[{"issue":"Test coverage estimated at 6%","area":"Testing","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.department_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.designation_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.grade_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.plant_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.shift_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'hr_plants.organization_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'performance_reviews.employee_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'performance_reviews.reviewer_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"101 components lack accessibility attributes","area":"UI/UX","priority":"High","effort":"Hours","eta":null,"owner":null}],"policy_results":[{"name":"release_security_gate","pass_status":false,"message":"Rule evaluation failed: name 'hardcoded_secrets' is not defined","enforced":true,"rule":"security_score >= 3.5 AND hardcoded_secrets == 0"},{"name":"release_quality_gate","pass_status":false,"message":"Rule evaluation failed: name 'code_quality' is not defined","enforced":true,"rule":"code_quality >= 3.0 AND typescript_errors == 0"},{"name":"release_testing_gate","pass_status":false,"message":"Success","enforced":false,"rule":"testing_score >= 3.0 AND untested_critical_paths <= 2"},{"name":"overall_health_gate","pass_status":false,"message":"Rule evaluation failed: name 'critical_findings' is not defined","enforced":true,"rule":"overall_score >= 3.0 AND critical_findings == 0"}],"executed_by":"CLI-Runner","execution_time_seconds":40.50977921485901}