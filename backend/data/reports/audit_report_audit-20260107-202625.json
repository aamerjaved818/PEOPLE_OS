{"id":"audit-20260107-202625","created_at":"2026-01-07T20:26:41.655088","version":"1.0.0","scope":"Full System","overall_score":4.2,"critical_count":1,"major_count":7,"minor_count":2,"risk_level":"High","dimension_scores":[{"dimension":"Code Quality","score":5.0,"findings_count":0,"action_items_count":0,"details":{"typescript_errors":0,"eslint_errors":0,"python_errors":0,"type_coverage":100.0}},{"dimension":"Security","score":5.0,"findings_count":0,"action_items_count":0,"details":{"rbac_coverage":182,"exposed_secrets":0,"unprotected_endpoints":0,"rate_limited_endpoints":14}},{"dimension":"Testing","score":0.0,"findings_count":1,"action_items_count":0,"details":{"test_coverage":8,"total_tests":11,"test_files":18,"untested_critical_paths":0}},{"dimension":"Database","score":3.0,"findings_count":1,"action_items_count":0,"details":{"foreign_keys_enforced":0,"indexes_count":0,"tables_without_indexes":0,"migration_files":0,"orphaned_records_risk":0}},{"dimension":"Architecture","score":5.0,"findings_count":0,"action_items_count":0,"details":{"cycle_count":0,"boundary_violations":0,"modules_scanned":396,"dependency_edges":1361}},{"dimension":"UI/UX","score":4.8,"findings_count":0,"action_items_count":0,"details":{"hardcoded_colors":0,"hardcoded_spacing":7,"component_reuse":28,"accessibility_violations":1,"css_files":0,"responsive_layouts":61,"accessibility_files":["D:\\Python\\HCM_WEB\\modules\\admin\\SystemCleanup.tsx"]}},{"dimension":"AI Layer","score":5.0,"findings_count":6,"action_items_count":0,"details":{"ai_integrations":60,"unpinned_models":0,"prompt_versioning":2,"input_validation":11,"ai_error_handling":21,"temperature_control":1,"grounding_instructions":1,"response_validation":6,"citation_extraction":1,"context_limits":2,"prompt_injection_protection":1,"pii_redaction":2,"rate_limiting":2,"fallback_behavior":0}},{"dimension":"DevOps","score":5.0,"findings_count":1,"action_items_count":0,"details":{"deployment_scripts":1,"backup_strategy":1,"environment_config":2,"docker_support":0,"ci_cd_config":1}},{"dimension":"Drift Detection","score":5.0,"findings_count":0,"action_items_count":0,"details":{"adr_count":9,"drift_violation_count":0,"undocumented_modules":0}}],"critical_findings":[{"id":"d0422b06-171a-40d6-b831-260d84cedb91","dimension":"Database","severity":"Critical","title":"Database file not found","description":"Expected database at D:\\Python\\HCM_WEB\\backend\\data\\hunzal_hcm.db","recommendation":"Ensure database is initialized","line_number":null,"file_path":null}],"major_findings":[{"id":"ea44b774-4ecd-4e7a-9bc7-94706ad44e05","dimension":"Testing","severity":"Major","title":"Test coverage estimated at 8%","description":"Low test coverage detected","recommendation":"Add unit tests for core modules","line_number":null,"file_path":null},{"id":"e9f49b10-abcf-43a9-a4c8-34e8a8ea7281","dimension":"Api","severity":"Major","title":"Analyzer execution failed: api","description":"(sqlite3.OperationalError) unable to open database file\n(Background on this error at: https://sqlalche.me/e/20/e3q8)","recommendation":"Check analyzer implementation and dependencies","line_number":null,"file_path":null},{"id":"38dc848b-a5c0-4eb5-86c1-47ed5d1acca9","dimension":"AI Layer","severity":"Major","title":"Insufficient input validation on AI calls","description":"Not all AI integrations validate input data (11/60)","recommendation":"Add schema validation before sending data to AI models","line_number":null,"file_path":null},{"id":"e776532e-a607-4f9a-93ab-269971cfe385","dimension":"AI Layer","severity":"Major","title":"Unsafe AI Temperature Settings","description":"Found 59 AI calls without explicit low-temperature settings (risk of hallucinations).","recommendation":"Set temperature=0.0-0.2 for factual tasks.","line_number":null,"file_path":null},{"id":"119b32f0-ac85-4fd7-a5a4-c5cf094960c9","dimension":"AI Layer","severity":"Major","title":"Missing Grounding Instructions","description":"Found 59 AI prompts without grounding constraints.","recommendation":"Include 'only use provided context' or similar constraints in prompts.","line_number":null,"file_path":null},{"id":"1b930fc5-676d-473a-af1f-38fd6258d116","dimension":"AI Layer","severity":"Major","title":"Missing Response Validation","description":"Found 54 AI calls without response validation.","recommendation":"Implement schema validation or parsing for AI outputs to catch malformed responses.","line_number":null,"file_path":null},{"id":"8184588b-8c10-4052-b7eb-087c0f85fa69","dimension":"AI Layer","severity":"Major","title":"Insufficient Fallback Behavior","description":"Less than 50% of AI calls have fallback logic (0/60).","recommendation":"Implement graceful degradation with default responses when AI calls fail.","line_number":null,"file_path":null}],"minor_findings":[{"id":"7c236046-37e2-4b49-87ad-86d0e7fc5fed","dimension":"AI Layer","severity":"Minor","title":"Incomplete AI error handling","description":"Some AI calls lack proper error handling (21/60)","recommendation":"Wrap AI calls in try-catch with fallback logic","line_number":null,"file_path":null},{"id":"8a05db03-c7b2-4d12-bc61-881a9f7392f9","dimension":"DevOps","severity":"Minor","title":"Missing Security Policy","description":"SECURITY.md file found in root.","recommendation":"Add a SECURITY.md to define reporting procedures.","line_number":null,"file_path":null}],"technical_debt":[],"action_plan":[{"issue":"Database file not found","area":"Database","priority":"Critical","effort":"Days","eta":null,"owner":null},{"issue":"Test coverage estimated at 8%","area":"Testing","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Analyzer execution failed: api","area":"Api","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Insufficient input validation on AI calls","area":"AI Layer","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unsafe AI Temperature Settings","area":"AI Layer","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Missing Grounding Instructions","area":"AI Layer","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Missing Response Validation","area":"AI Layer","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Insufficient Fallback Behavior","area":"AI Layer","priority":"High","effort":"Hours","eta":null,"owner":null}],"policy_results":[{"name":"release_security_gate","pass_status":false,"message":"Rule evaluation failed: name 'hardcoded_secrets' is not defined","enforced":true,"rule":"security_score >= 3.5 AND hardcoded_secrets == 0"},{"name":"release_quality_gate","pass_status":false,"message":"Rule evaluation failed: name 'code_quality' is not defined","enforced":true,"rule":"code_quality >= 3.0 AND typescript_errors == 0"},{"name":"release_testing_gate","pass_status":false,"message":"Success","enforced":false,"rule":"testing_score >= 3.0 AND untested_critical_paths <= 2"},{"name":"overall_health_gate","pass_status":false,"message":"Rule evaluation failed: name 'critical_findings' is not defined","enforced":true,"rule":"overall_score >= 3.0 AND critical_findings == 0"}],"executed_by":"CLI-Runner","execution_time_seconds":16.32074522972107}