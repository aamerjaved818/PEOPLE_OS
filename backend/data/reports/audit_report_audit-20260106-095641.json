{"id":"audit-20260106-095641","created_at":"2026-01-06T09:57:15.495167","version":"1.0.0","scope":"Full System","overall_score":3.0,"critical_count":0,"major_count":16,"minor_count":21,"risk_level":"High","dimension_scores":[{"dimension":"Code Quality","score":5.0,"findings_count":0,"action_items_count":0,"details":{"typescript_errors":0,"eslint_errors":0,"python_errors":0,"type_coverage":100.0}},{"dimension":"Security","score":5.0,"findings_count":0,"action_items_count":0,"details":{"rbac_coverage":166,"exposed_secrets":0,"unprotected_endpoints":0,"rate_limited_endpoints":2}},{"dimension":"Testing","score":0.0,"findings_count":1,"action_items_count":0,"details":{"test_coverage":8,"total_tests":9,"test_files":14,"untested_critical_paths":0}},{"dimension":"Database","score":3.5,"findings_count":16,"action_items_count":0,"details":{"foreign_keys_enforced":1,"indexes_count":40,"tables_without_indexes":5,"migration_files":0,"orphaned_records_risk":0}},{"dimension":"API","score":0.5,"findings_count":1,"action_items_count":0,"details":{"total_endpoints":42,"versioned_endpoints":0,"breaking_changes":0,"new_endpoints":0,"schema_size_kb":68}},{"dimension":"Architecture","score":5.0,"findings_count":0,"action_items_count":0,"details":{"cycle_count":0,"boundary_violations":0,"modules_scanned":343,"dependency_edges":1164}},{"dimension":"UI/UX","score":0.0,"findings_count":3,"action_items_count":0,"details":{"hardcoded_colors":51,"hardcoded_spacing":1042,"component_reuse":26,"accessibility_violations":106,"css_files":0,"responsive_layouts":60}},{"dimension":"AI Layer","score":5.0,"findings_count":6,"action_items_count":0,"details":{"ai_integrations":41,"unpinned_models":0,"prompt_versioning":2,"input_validation":10,"ai_error_handling":9,"temperature_control":1,"grounding_instructions":1,"response_validation":4,"citation_extraction":1,"context_limits":2,"prompt_injection_protection":1,"pii_redaction":2,"rate_limiting":2,"fallback_behavior":0}},{"dimension":"DevOps","score":5.0,"findings_count":1,"action_items_count":0,"details":{"deployment_scripts":1,"backup_strategy":1,"environment_config":2,"docker_support":0,"ci_cd_config":1}},{"dimension":"Drift Detection","score":1.0,"findings_count":8,"action_items_count":0,"details":{"adr_count":0,"drift_violation_count":0,"undocumented_modules":8}}],"critical_findings":[],"major_findings":[{"id":"e59a7962-2875-4aff-80db-b3c6c592de1d","dimension":"Testing","severity":"Major","title":"Test coverage estimated at 8%","description":"Low test coverage detected","recommendation":"Add unit tests for core modules","line_number":null,"file_path":null},{"id":"01f9e9f5-5dc5-4712-9c85-2eb49bdc2529","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.department_id'","description":"Column 'department_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for department_id","line_number":null,"file_path":null},{"id":"6067ae06-bcbb-4cc8-b0a2-4030c601eae4","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.designation_id'","description":"Column 'designation_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for designation_id","line_number":null,"file_path":null},{"id":"3452f502-2cd7-4068-aee6-b7bb9d0c2ebc","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.grade_id'","description":"Column 'grade_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for grade_id","line_number":null,"file_path":null},{"id":"63b2e457-44bd-49b5-91bb-8c08a19099e6","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.plant_id'","description":"Column 'plant_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for plant_id","line_number":null,"file_path":null},{"id":"b0d8beab-32bf-480c-8ff1-f81d98c982a6","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.shift_id'","description":"Column 'shift_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for shift_id","line_number":null,"file_path":null},{"id":"cf6db5b9-1645-411c-b5b1-66aa96e2e78c","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'organizations.tax_id'","description":"Column 'tax_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for tax_id","line_number":null,"file_path":null},{"id":"80be82eb-b359-420e-a711-f0a4f367aacc","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'hr_plants.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"a23bb15a-395a-4e68-9b30-e551eeb2dc89","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'performance_reviews.employee_id'","description":"Column 'employee_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for employee_id","line_number":null,"file_path":null},{"id":"1167393c-4696-4043-9a0a-27da5d46c8ad","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'performance_reviews.reviewer_id'","description":"Column 'reviewer_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for reviewer_id","line_number":null,"file_path":null},{"id":"635de716-798d-42af-b404-e86b5b417e24","dimension":"UI/UX","severity":"Major","title":"106 components lack accessibility attributes","description":"Missing aria-labels, alt text, or other a11y features","recommendation":"Add ARIA labels and alt text to improve accessibility","line_number":null,"file_path":null},{"id":"3ee0d288-53fb-47ae-951f-a6b5425dd8b7","dimension":"AI Layer","severity":"Major","title":"Insufficient input validation on AI calls","description":"Not all AI integrations validate input data (10/41)","recommendation":"Add schema validation before sending data to AI models","line_number":null,"file_path":null},{"id":"9141cc1d-e592-47c8-b161-fd887917d3e8","dimension":"AI Layer","severity":"Major","title":"Unsafe AI Temperature Settings","description":"Found 40 AI calls without explicit low-temperature settings (risk of hallucinations).","recommendation":"Set temperature=0.0-0.2 for factual tasks.","line_number":null,"file_path":null},{"id":"f1c1aea3-01d2-42b1-babd-3989187bc203","dimension":"AI Layer","severity":"Major","title":"Missing Grounding Instructions","description":"Found 40 AI prompts without grounding constraints.","recommendation":"Include 'only use provided context' or similar constraints in prompts.","line_number":null,"file_path":null},{"id":"4d850d7e-886e-46fd-9196-59379e8e848f","dimension":"AI Layer","severity":"Major","title":"Missing Response Validation","description":"Found 37 AI calls without response validation.","recommendation":"Implement schema validation or parsing for AI outputs to catch malformed responses.","line_number":null,"file_path":null},{"id":"62bea97e-ad79-44e7-ad26-e11a58a9a88e","dimension":"AI Layer","severity":"Major","title":"Insufficient Fallback Behavior","description":"Less than 50% of AI calls have fallback logic (0/41).","recommendation":"Implement graceful degradation with default responses when AI calls fail.","line_number":null,"file_path":null}],"minor_findings":[{"id":"843e595d-d516-422d-b5cc-4933a864bb82","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'employees'","description":"Table has 66 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"f7041f0c-c054-4de2-9b7a-a0bc1999912b","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'organizations'","description":"Table has 29 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"0a9709b7-529c-4421-ba9f-f5f54aefb253","dimension":"Database","severity":"Minor","title":"Table 'employee_education' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_education","line_number":null,"file_path":null},{"id":"1d3fd8c6-8776-4bad-9808-899ea54b17cf","dimension":"Database","severity":"Minor","title":"Table 'employee_experience' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_experience","line_number":null,"file_path":null},{"id":"6499b4a1-4e90-44ce-a493-bae6d98e0e26","dimension":"Database","severity":"Minor","title":"Table 'employee_family' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_family","line_number":null,"file_path":null},{"id":"906bc4cf-84a5-4928-a63e-76497505c173","dimension":"Database","severity":"Minor","title":"Table 'employee_discipline' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_discipline","line_number":null,"file_path":null},{"id":"b78ef8e4-e455-4d04-b6a1-7fa2b821b541","dimension":"Database","severity":"Minor","title":"Table 'employee_increments' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_increments","line_number":null,"file_path":null},{"id":"57950ae4-7e2a-4eb2-8b8b-ed180385e587","dimension":"API","severity":"Minor","title":"No explicit API versioning","description":"Endpoints do not use /v1/ or similar prefixes.","recommendation":"Adopt URI versioning (e.g. /api/v1/resource).","line_number":null,"file_path":null},{"id":"1039ef33-e4f7-4490-9996-68002c822a82","dimension":"UI/UX","severity":"Minor","title":"51 hardcoded color values detected","description":"Colors should use design tokens/CSS variables","recommendation":"Migrate hardcoded colors to design system tokens","line_number":null,"file_path":null},{"id":"279d3d51-af6c-45b7-93c1-87be9d78eaef","dimension":"UI/UX","severity":"Minor","title":"1042 hardcoded spacing values","description":"Spacing should use design tokens (e.g., Tailwind classes)","recommendation":"Use consistent spacing scale from design system","line_number":null,"file_path":null},{"id":"8c79d7b3-6a2f-4159-92d5-ca7a47a616d8","dimension":"AI Layer","severity":"Minor","title":"Incomplete AI error handling","description":"Some AI calls lack proper error handling (9/41)","recommendation":"Wrap AI calls in try-catch with fallback logic","line_number":null,"file_path":null},{"id":"c04bfe7a-6a91-4faf-87e9-e30d30d40c8d","dimension":"DevOps","severity":"Minor","title":"Missing Security Policy","description":"SECURITY.md file found in root.","recommendation":"Add a SECURITY.md to define reporting procedures.","line_number":null,"file_path":null},{"id":"c9ac8385-0314-4eee-ac33-cbe85349651c","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: analytics","description":"No ADR or architectural documentation found for the 'analytics' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"fa922161-f923-4133-9358-55f8726bd449","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: assets","description":"No ADR or architectural documentation found for the 'assets' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"677408c1-6976-4b76-b558-bd8fac018954","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: audit","description":"No ADR or architectural documentation found for the 'audit' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"f32e8f35-2ff4-4ccb-94b3-6d36f85abdec","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: employee","description":"No ADR or architectural documentation found for the 'employee' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"a37a3499-472f-452c-bc2e-1de9359d1f1e","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: expenses","description":"No ADR or architectural documentation found for the 'expenses' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"c3419ae8-67bc-4c77-9a8f-502b5023e727","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: org-profile","description":"No ADR or architectural documentation found for the 'org-profile' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"1018b570-29b1-4f9b-ad13-f546adf78d6c","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: payroll","description":"No ADR or architectural documentation found for the 'payroll' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"403b42f5-b517-4428-8fa8-fdbc381981d4","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: recruitment","description":"No ADR or architectural documentation found for the 'recruitment' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"d6f0bc3a-2814-4d1c-97b3-bcb28200572d","dimension":"Drift Detection","severity":"Minor","title":"Rule Violation: undocumented_modules","description":"Value 8 exceeded max 0","recommendation":"Improve undocumented_modules to meet policy","line_number":null,"file_path":null}],"technical_debt":[],"action_plan":[{"issue":"Test coverage estimated at 8%","area":"Testing","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.department_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.designation_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.grade_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.plant_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.shift_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'organizations.tax_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'hr_plants.organization_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'performance_reviews.employee_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'performance_reviews.reviewer_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null}],"policy_results":[{"name":"release_security_gate","pass_status":false,"message":"Rule evaluation failed: name 'hardcoded_secrets' is not defined","enforced":true,"rule":"security_score >= 3.5 AND hardcoded_secrets == 0"},{"name":"release_quality_gate","pass_status":false,"message":"Rule evaluation failed: name 'code_quality' is not defined","enforced":true,"rule":"code_quality >= 3.0 AND typescript_errors == 0"},{"name":"release_testing_gate","pass_status":false,"message":"Success","enforced":false,"rule":"testing_score >= 3.0 AND untested_critical_paths <= 2"},{"name":"overall_health_gate","pass_status":false,"message":"Rule evaluation failed: name 'critical_findings' is not defined","enforced":true,"rule":"overall_score >= 3.0 AND critical_findings == 0"}],"executed_by":"CLI-Runner","execution_time_seconds":33.92417311668396}