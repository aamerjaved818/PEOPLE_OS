{"id":"audit-20260107-093645","created_at":"2026-01-07T09:37:19.887860","version":"1.0.0","scope":"Full System","overall_score":3.0,"critical_count":0,"major_count":21,"minor_count":21,"risk_level":"High","dimension_scores":[{"dimension":"Code Quality","score":5.0,"findings_count":0,"action_items_count":0,"details":{"typescript_errors":0,"eslint_errors":0,"python_errors":0,"type_coverage":100.0}},{"dimension":"Security","score":5.0,"findings_count":0,"action_items_count":0,"details":{"rbac_coverage":179,"exposed_secrets":0,"unprotected_endpoints":0,"rate_limited_endpoints":2}},{"dimension":"Testing","score":0.0,"findings_count":1,"action_items_count":0,"details":{"test_coverage":6,"total_tests":11,"test_files":13,"untested_critical_paths":0}},{"dimension":"Database","score":3.5,"findings_count":21,"action_items_count":0,"details":{"foreign_keys_enforced":1,"indexes_count":43,"tables_without_indexes":5,"migration_files":0,"orphaned_records_risk":0}},{"dimension":"API","score":0.5,"findings_count":1,"action_items_count":0,"details":{"total_endpoints":45,"versioned_endpoints":0,"breaking_changes":0,"new_endpoints":3,"schema_size_kb":78}},{"dimension":"Architecture","score":5.0,"findings_count":0,"action_items_count":0,"details":{"cycle_count":0,"boundary_violations":0,"modules_scanned":370,"dependency_edges":1236}},{"dimension":"UI/UX","score":0.0,"findings_count":3,"action_items_count":0,"details":{"hardcoded_colors":51,"hardcoded_spacing":1056,"component_reuse":28,"accessibility_violations":108,"css_files":0,"responsive_layouts":60}},{"dimension":"AI Layer","score":5.0,"findings_count":6,"action_items_count":0,"details":{"ai_integrations":46,"unpinned_models":0,"prompt_versioning":2,"input_validation":11,"ai_error_handling":10,"temperature_control":1,"grounding_instructions":1,"response_validation":4,"citation_extraction":1,"context_limits":2,"prompt_injection_protection":1,"pii_redaction":2,"rate_limiting":2,"fallback_behavior":0}},{"dimension":"DevOps","score":5.0,"findings_count":1,"action_items_count":0,"details":{"deployment_scripts":1,"backup_strategy":1,"environment_config":2,"docker_support":0,"ci_cd_config":1}},{"dimension":"Drift Detection","score":1.0,"findings_count":8,"action_items_count":0,"details":{"adr_count":0,"drift_violation_count":0,"undocumented_modules":8}}],"critical_findings":[],"major_findings":[{"id":"6c3899fd-c7df-459e-8329-cb78ccc9e2b3","dimension":"Testing","severity":"Major","title":"Test coverage estimated at 6%","description":"Low test coverage detected","recommendation":"Add unit tests for core modules","line_number":null,"file_path":null},{"id":"643c6026-0a9e-475e-b416-0c1ddb9e54c4","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.department_id'","description":"Column 'department_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for department_id","line_number":null,"file_path":null},{"id":"0ff24509-ac36-4bf5-b242-8f00291eac47","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.designation_id'","description":"Column 'designation_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for designation_id","line_number":null,"file_path":null},{"id":"651566c3-d0a9-42ca-ad43-7cff6b851ccb","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.grade_id'","description":"Column 'grade_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for grade_id","line_number":null,"file_path":null},{"id":"4677dc57-37fe-4f8e-9a7a-b9a270b75b4d","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.plant_id'","description":"Column 'plant_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for plant_id","line_number":null,"file_path":null},{"id":"7cd43b6d-d606-4330-8887-0c26a6ac16b8","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.shift_id'","description":"Column 'shift_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for shift_id","line_number":null,"file_path":null},{"id":"a58da555-8640-486e-b162-82c23c94e321","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'organizations.tax_id'","description":"Column 'tax_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for tax_id","line_number":null,"file_path":null},{"id":"24ef18b1-4d3e-441a-b9c1-95d3f4cd1626","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'hr_plants.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"3865959d-136b-45bf-988b-af4bdb254291","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'grades.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"a2fd7381-8004-4d3d-8541-f1ad976a909e","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'sub_departments.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"92c212d3-079a-47da-ab3a-24a8066bb16d","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'shifts.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"e2daeaf2-96b9-4036-beae-71e738ef3baa","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'designations.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"b3f7d6b3-f806-4519-bb0f-3deb4492da02","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'departments.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"f36e6656-5dc0-4bca-88c3-9261b0deb8bd","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'performance_reviews.employee_id'","description":"Column 'employee_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for employee_id","line_number":null,"file_path":null},{"id":"f93789a7-b63a-4a73-974a-fdb9e8e4dfcb","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'performance_reviews.reviewer_id'","description":"Column 'reviewer_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for reviewer_id","line_number":null,"file_path":null},{"id":"9ddf45ba-05f0-47ca-9586-59c147d17ca4","dimension":"UI/UX","severity":"Major","title":"108 components lack accessibility attributes","description":"Missing aria-labels, alt text, or other a11y features","recommendation":"Add ARIA labels and alt text to improve accessibility","line_number":null,"file_path":null},{"id":"218fef08-8569-439d-ae12-e55326aabfc6","dimension":"AI Layer","severity":"Major","title":"Insufficient input validation on AI calls","description":"Not all AI integrations validate input data (11/46)","recommendation":"Add schema validation before sending data to AI models","line_number":null,"file_path":null},{"id":"8821abad-3756-4e71-8242-24bfb17e063c","dimension":"AI Layer","severity":"Major","title":"Unsafe AI Temperature Settings","description":"Found 45 AI calls without explicit low-temperature settings (risk of hallucinations).","recommendation":"Set temperature=0.0-0.2 for factual tasks.","line_number":null,"file_path":null},{"id":"07629128-dec2-4424-bd59-0ca39952e6e0","dimension":"AI Layer","severity":"Major","title":"Missing Grounding Instructions","description":"Found 45 AI prompts without grounding constraints.","recommendation":"Include 'only use provided context' or similar constraints in prompts.","line_number":null,"file_path":null},{"id":"6beb2223-309c-4b7e-9fd3-e24e2428fca2","dimension":"AI Layer","severity":"Major","title":"Missing Response Validation","description":"Found 42 AI calls without response validation.","recommendation":"Implement schema validation or parsing for AI outputs to catch malformed responses.","line_number":null,"file_path":null},{"id":"94d80cf2-cb31-4264-b5b2-5e707be47995","dimension":"AI Layer","severity":"Major","title":"Insufficient Fallback Behavior","description":"Less than 50% of AI calls have fallback logic (0/46).","recommendation":"Implement graceful degradation with default responses when AI calls fail.","line_number":null,"file_path":null}],"minor_findings":[{"id":"a50b63dd-d49e-4728-9a7b-33665eebae91","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'employees'","description":"Table has 67 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"9191eb19-fb4b-404f-aebd-dbc9bd20f335","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'organizations'","description":"Table has 29 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"ae2b2077-58de-4d98-8d20-ba32a1f2b10d","dimension":"Database","severity":"Minor","title":"Table 'employee_education' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_education","line_number":null,"file_path":null},{"id":"5a86d5d3-9edb-46bf-a35c-bd4f18805f36","dimension":"Database","severity":"Minor","title":"Table 'employee_experience' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_experience","line_number":null,"file_path":null},{"id":"2ba98351-bd77-426b-ac23-63ff5d24f245","dimension":"Database","severity":"Minor","title":"Table 'employee_family' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_family","line_number":null,"file_path":null},{"id":"132db33b-a985-4dec-93b0-04632108cf44","dimension":"Database","severity":"Minor","title":"Table 'employee_discipline' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_discipline","line_number":null,"file_path":null},{"id":"829e1843-9eb4-4cce-9b12-66648271bb1f","dimension":"Database","severity":"Minor","title":"Table 'employee_increments' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_increments","line_number":null,"file_path":null},{"id":"19edf83c-3b23-4262-a902-c76f03931cdc","dimension":"API","severity":"Minor","title":"No explicit API versioning","description":"Endpoints do not use /v1/ or similar prefixes.","recommendation":"Adopt URI versioning (e.g. /api/v1/resource).","line_number":null,"file_path":null},{"id":"99bc0434-5aa4-4bb1-86b7-5ccd87675eb1","dimension":"UI/UX","severity":"Minor","title":"51 hardcoded color values detected","description":"Colors should use design tokens/CSS variables","recommendation":"Migrate hardcoded colors to design system tokens","line_number":null,"file_path":null},{"id":"156cd9c3-7ade-432c-87a7-20c85b150c71","dimension":"UI/UX","severity":"Minor","title":"1056 hardcoded spacing values","description":"Spacing should use design tokens (e.g., Tailwind classes)","recommendation":"Use consistent spacing scale from design system","line_number":null,"file_path":null},{"id":"4d378224-d1d4-4064-a919-8c8a76145d61","dimension":"AI Layer","severity":"Minor","title":"Incomplete AI error handling","description":"Some AI calls lack proper error handling (10/46)","recommendation":"Wrap AI calls in try-catch with fallback logic","line_number":null,"file_path":null},{"id":"cd3711ef-5fd4-4656-a5f8-32bd2948fe37","dimension":"DevOps","severity":"Minor","title":"Missing Security Policy","description":"SECURITY.md file found in root.","recommendation":"Add a SECURITY.md to define reporting procedures.","line_number":null,"file_path":null},{"id":"52cdc77b-e4f9-4818-97be-043f3e0c399f","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: analytics","description":"No ADR or architectural documentation found for the 'analytics' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"a06c79e2-776a-431a-b727-b837c7f2e913","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: assets","description":"No ADR or architectural documentation found for the 'assets' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"603aa6b5-72e5-4dec-a33e-cb577b70d268","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: audit","description":"No ADR or architectural documentation found for the 'audit' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"3268f071-62ce-4502-920f-bcbe726fa831","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: employee","description":"No ADR or architectural documentation found for the 'employee' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"bcace3d3-32af-460b-91f4-b809faa4a022","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: expenses","description":"No ADR or architectural documentation found for the 'expenses' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"b34d73c8-df67-48e6-9bdf-080e2819efdd","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: org-profile","description":"No ADR or architectural documentation found for the 'org-profile' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"d0bf18b4-3a22-4b2d-8a0f-8406654cc3eb","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: payroll","description":"No ADR or architectural documentation found for the 'payroll' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"939c188e-6d66-47cb-8b30-7ece7b9c3026","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: recruitment","description":"No ADR or architectural documentation found for the 'recruitment' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"c704c556-32f4-474e-96ea-af89bd018109","dimension":"Drift Detection","severity":"Minor","title":"Rule Violation: undocumented_modules","description":"Value 8 exceeded max 0","recommendation":"Improve undocumented_modules to meet policy","line_number":null,"file_path":null}],"technical_debt":[],"action_plan":[{"issue":"Test coverage estimated at 6%","area":"Testing","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.department_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.designation_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.grade_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.plant_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.shift_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'organizations.tax_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'hr_plants.organization_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'grades.organization_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'sub_departments.organization_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null}],"policy_results":[{"name":"release_security_gate","pass_status":false,"message":"Rule evaluation failed: name 'hardcoded_secrets' is not defined","enforced":true,"rule":"security_score >= 3.5 AND hardcoded_secrets == 0"},{"name":"release_quality_gate","pass_status":false,"message":"Rule evaluation failed: name 'code_quality' is not defined","enforced":true,"rule":"code_quality >= 3.0 AND typescript_errors == 0"},{"name":"release_testing_gate","pass_status":false,"message":"Success","enforced":false,"rule":"testing_score >= 3.0 AND untested_critical_paths <= 2"},{"name":"overall_health_gate","pass_status":false,"message":"Rule evaluation failed: name 'critical_findings' is not defined","enforced":true,"rule":"overall_score >= 3.0 AND critical_findings == 0"}],"executed_by":"test_admin","execution_time_seconds":34.596705198287964}