{"id":"audit-20260107-094058","created_at":"2026-01-07T09:41:33.540285","version":"1.0.0","scope":"Full System","overall_score":3.0,"critical_count":0,"major_count":21,"minor_count":21,"risk_level":"High","dimension_scores":[{"dimension":"Code Quality","score":5.0,"findings_count":0,"action_items_count":0,"details":{"typescript_errors":0,"eslint_errors":0,"python_errors":0,"type_coverage":100.0}},{"dimension":"Security","score":5.0,"findings_count":0,"action_items_count":0,"details":{"rbac_coverage":179,"exposed_secrets":0,"unprotected_endpoints":0,"rate_limited_endpoints":2}},{"dimension":"Testing","score":0.0,"findings_count":1,"action_items_count":0,"details":{"test_coverage":6,"total_tests":11,"test_files":13,"untested_critical_paths":0}},{"dimension":"Database","score":3.5,"findings_count":21,"action_items_count":0,"details":{"foreign_keys_enforced":1,"indexes_count":43,"tables_without_indexes":5,"migration_files":0,"orphaned_records_risk":0}},{"dimension":"API","score":0.5,"findings_count":1,"action_items_count":0,"details":{"total_endpoints":45,"versioned_endpoints":0,"breaking_changes":0,"new_endpoints":0,"schema_size_kb":78}},{"dimension":"Architecture","score":5.0,"findings_count":0,"action_items_count":0,"details":{"cycle_count":0,"boundary_violations":0,"modules_scanned":370,"dependency_edges":1236}},{"dimension":"UI/UX","score":0.0,"findings_count":3,"action_items_count":0,"details":{"hardcoded_colors":51,"hardcoded_spacing":1056,"component_reuse":28,"accessibility_violations":108,"css_files":0,"responsive_layouts":60}},{"dimension":"AI Layer","score":5.0,"findings_count":6,"action_items_count":0,"details":{"ai_integrations":46,"unpinned_models":0,"prompt_versioning":2,"input_validation":11,"ai_error_handling":10,"temperature_control":1,"grounding_instructions":1,"response_validation":4,"citation_extraction":1,"context_limits":2,"prompt_injection_protection":1,"pii_redaction":2,"rate_limiting":2,"fallback_behavior":0}},{"dimension":"DevOps","score":5.0,"findings_count":1,"action_items_count":0,"details":{"deployment_scripts":1,"backup_strategy":1,"environment_config":2,"docker_support":0,"ci_cd_config":1}},{"dimension":"Drift Detection","score":1.0,"findings_count":8,"action_items_count":0,"details":{"adr_count":0,"drift_violation_count":0,"undocumented_modules":8}}],"critical_findings":[],"major_findings":[{"id":"f2a5cc95-0d2c-4b61-8838-680c6b44c5d1","dimension":"Testing","severity":"Major","title":"Test coverage estimated at 6%","description":"Low test coverage detected","recommendation":"Add unit tests for core modules","line_number":null,"file_path":null},{"id":"233728ce-a9b6-4b66-b07b-abca233486f8","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.department_id'","description":"Column 'department_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for department_id","line_number":null,"file_path":null},{"id":"cdb4e20a-bdfa-4deb-8281-59bffefce919","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.designation_id'","description":"Column 'designation_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for designation_id","line_number":null,"file_path":null},{"id":"a2791107-502a-4027-a443-294e87566a5c","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.grade_id'","description":"Column 'grade_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for grade_id","line_number":null,"file_path":null},{"id":"2369b23f-6104-4094-99ad-483704f714cd","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.plant_id'","description":"Column 'plant_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for plant_id","line_number":null,"file_path":null},{"id":"fc815875-e52b-454e-8fb9-cbb7fc6d771e","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'employees.shift_id'","description":"Column 'shift_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for shift_id","line_number":null,"file_path":null},{"id":"1cf7c95a-a7ef-4d7f-bb71-13167fdb131d","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'organizations.tax_id'","description":"Column 'tax_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for tax_id","line_number":null,"file_path":null},{"id":"6e7f3de4-e2ef-44d4-8cc5-0d99cb726d9a","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'hr_plants.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"4470caf7-2ada-46c5-b3e8-2cfe76a721fa","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'grades.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"1584ed45-03b5-416a-8191-2def1175f71e","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'sub_departments.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"39a034d0-bfda-4bc0-afed-4d6c953a0cae","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'shifts.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"5573c03c-52df-4f9b-a414-7c05e397f741","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'designations.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"fc97d7b6-84b6-4fe2-ada5-3028c75f93a1","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'departments.organization_id'","description":"Column 'organization_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for organization_id","line_number":null,"file_path":null},{"id":"e5e10d8e-1f59-4f71-b7d4-4ef08dc28b90","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'performance_reviews.employee_id'","description":"Column 'employee_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for employee_id","line_number":null,"file_path":null},{"id":"1ac14487-d311-44f4-add2-bca1f5e73756","dimension":"Database","severity":"Major","title":"Unenforced Foreign Key: 'performance_reviews.reviewer_id'","description":"Column 'reviewer_id' suggests a relation but has no FK constraint.","recommendation":"Add FOREIGN KEY constraint for reviewer_id","line_number":null,"file_path":null},{"id":"647d754d-7e1f-4fc9-a94d-418a33180018","dimension":"UI/UX","severity":"Major","title":"108 components lack accessibility attributes","description":"Missing aria-labels, alt text, or other a11y features","recommendation":"Add ARIA labels and alt text to improve accessibility","line_number":null,"file_path":null},{"id":"3a30c91a-be16-44c1-96dc-11a85adbe2f2","dimension":"AI Layer","severity":"Major","title":"Insufficient input validation on AI calls","description":"Not all AI integrations validate input data (11/46)","recommendation":"Add schema validation before sending data to AI models","line_number":null,"file_path":null},{"id":"2c59a5c5-1ff0-4171-a82d-e4d3209c52e9","dimension":"AI Layer","severity":"Major","title":"Unsafe AI Temperature Settings","description":"Found 45 AI calls without explicit low-temperature settings (risk of hallucinations).","recommendation":"Set temperature=0.0-0.2 for factual tasks.","line_number":null,"file_path":null},{"id":"ae1b5a08-e239-469c-9ea0-9afabaebfac9","dimension":"AI Layer","severity":"Major","title":"Missing Grounding Instructions","description":"Found 45 AI prompts without grounding constraints.","recommendation":"Include 'only use provided context' or similar constraints in prompts.","line_number":null,"file_path":null},{"id":"f85a4f6a-e7a2-4b0f-a481-66282fff67bc","dimension":"AI Layer","severity":"Major","title":"Missing Response Validation","description":"Found 42 AI calls without response validation.","recommendation":"Implement schema validation or parsing for AI outputs to catch malformed responses.","line_number":null,"file_path":null},{"id":"5aef4dfc-5664-40d9-a1e2-623c14cd9bdc","dimension":"AI Layer","severity":"Major","title":"Insufficient Fallback Behavior","description":"Less than 50% of AI calls have fallback logic (0/46).","recommendation":"Implement graceful degradation with default responses when AI calls fail.","line_number":null,"file_path":null}],"minor_findings":[{"id":"7727835b-c530-4ed5-87fa-19454b1db78d","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'employees'","description":"Table has 67 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"be01b20f-ee35-493b-9352-8a830387ba20","dimension":"Database","severity":"Minor","title":"Potential Denormalization: 'organizations'","description":"Table has 29 columns (threshold: 20)","recommendation":"Consider standardizing schema or splitting tables.","line_number":null,"file_path":null},{"id":"2a634780-71d3-4cfb-a109-101d6af40925","dimension":"Database","severity":"Minor","title":"Table 'employee_education' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_education","line_number":null,"file_path":null},{"id":"4ea00416-70ee-45c1-84ad-ba4bd7e916fe","dimension":"Database","severity":"Minor","title":"Table 'employee_experience' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_experience","line_number":null,"file_path":null},{"id":"a1389280-d334-4acf-965b-07312adffedf","dimension":"Database","severity":"Minor","title":"Table 'employee_family' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_family","line_number":null,"file_path":null},{"id":"2f4b87fb-9986-45d7-8c2b-7c286b29c5c1","dimension":"Database","severity":"Minor","title":"Table 'employee_discipline' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_discipline","line_number":null,"file_path":null},{"id":"8914e2ce-d7dc-45f4-b1a3-84c5ae3f0a98","dimension":"Database","severity":"Minor","title":"Table 'employee_increments' has no indexes","description":"May impact query performance","recommendation":"Consider adding indexes to employee_increments","line_number":null,"file_path":null},{"id":"b6e35896-26fc-4dea-8958-fc440a6c0f63","dimension":"API","severity":"Minor","title":"No explicit API versioning","description":"Endpoints do not use /v1/ or similar prefixes.","recommendation":"Adopt URI versioning (e.g. /api/v1/resource).","line_number":null,"file_path":null},{"id":"72e8b36e-fc79-4e6c-855c-d48af2b79d60","dimension":"UI/UX","severity":"Minor","title":"51 hardcoded color values detected","description":"Colors should use design tokens/CSS variables","recommendation":"Migrate hardcoded colors to design system tokens","line_number":null,"file_path":null},{"id":"3f325f27-f987-4368-b833-f883d0233306","dimension":"UI/UX","severity":"Minor","title":"1056 hardcoded spacing values","description":"Spacing should use design tokens (e.g., Tailwind classes)","recommendation":"Use consistent spacing scale from design system","line_number":null,"file_path":null},{"id":"fd1d92e2-16a7-41f9-8e41-18b942076735","dimension":"AI Layer","severity":"Minor","title":"Incomplete AI error handling","description":"Some AI calls lack proper error handling (10/46)","recommendation":"Wrap AI calls in try-catch with fallback logic","line_number":null,"file_path":null},{"id":"086384d6-d0c7-4c04-85c7-c66392fdcc41","dimension":"DevOps","severity":"Minor","title":"Missing Security Policy","description":"SECURITY.md file found in root.","recommendation":"Add a SECURITY.md to define reporting procedures.","line_number":null,"file_path":null},{"id":"8ce1658e-460a-4792-aa4e-2905225255da","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: analytics","description":"No ADR or architectural documentation found for the 'analytics' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"8b9c3774-9009-4e4b-a8e3-1b82cf9e670e","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: assets","description":"No ADR or architectural documentation found for the 'assets' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"6483193c-2754-48a1-bc3c-328c05ccbed7","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: audit","description":"No ADR or architectural documentation found for the 'audit' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"3e9e895c-a535-429a-8f1a-029259c3aa23","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: employee","description":"No ADR or architectural documentation found for the 'employee' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"da1fdd8f-c7da-4cd4-9507-5f9db7c68f42","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: expenses","description":"No ADR or architectural documentation found for the 'expenses' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"0831e42f-b6c3-4ddc-87ed-7e15e69de076","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: org-profile","description":"No ADR or architectural documentation found for the 'org-profile' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"d43667b0-5d47-40e9-8a62-d8710b79f50f","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: payroll","description":"No ADR or architectural documentation found for the 'payroll' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"9905b4a3-797d-4d43-ac93-e963f4e6bf88","dimension":"Architecture","severity":"Minor","title":"Undocumented Module: recruitment","description":"No ADR or architectural documentation found for the 'recruitment' module.","recommendation":"Create an ADR summarizing the module's purpose and key decisions.","line_number":null,"file_path":null},{"id":"cad4e8ca-dda1-4a71-8f7f-b802f3a4efee","dimension":"Drift Detection","severity":"Minor","title":"Rule Violation: undocumented_modules","description":"Value 8 exceeded max 0","recommendation":"Improve undocumented_modules to meet policy","line_number":null,"file_path":null}],"technical_debt":[],"action_plan":[{"issue":"Test coverage estimated at 6%","area":"Testing","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.department_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.designation_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.grade_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.plant_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'employees.shift_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'organizations.tax_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'hr_plants.organization_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'grades.organization_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null},{"issue":"Unenforced Foreign Key: 'sub_departments.organization_id'","area":"Database","priority":"High","effort":"Hours","eta":null,"owner":null}],"policy_results":[{"name":"release_security_gate","pass_status":false,"message":"Rule evaluation failed: name 'hardcoded_secrets' is not defined","enforced":true,"rule":"security_score >= 3.5 AND hardcoded_secrets == 0"},{"name":"release_quality_gate","pass_status":false,"message":"Rule evaluation failed: name 'code_quality' is not defined","enforced":true,"rule":"code_quality >= 3.0 AND typescript_errors == 0"},{"name":"release_testing_gate","pass_status":false,"message":"Success","enforced":false,"rule":"testing_score >= 3.0 AND untested_critical_paths <= 2"},{"name":"overall_health_gate","pass_status":false,"message":"Rule evaluation failed: name 'critical_findings' is not defined","enforced":true,"rule":"overall_score >= 3.0 AND critical_findings == 0"}],"executed_by":"test_admin","execution_time_seconds":35.0105721950531}